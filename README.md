# 🧠 LearnFlow - AI 学习教练

> 基于费曼学习法的 AI 学习助手，帮助你高效掌握知识

## ✨ 功能特性

- **📥 输入学习** — 粘贴文章，AI 自动提取核心知识点
- **🧩 知识图谱** — 按主题管理知识体系，支持增删改查
- **🎯 费曼检验** — AI 出题检验理解程度，多维度评分
- **🔄 遗忘曲线** — 基于艾宾浩斯算法自动安排复习
- **📊 学习仪表盘** — GitHub 风格热力图 + 学习数据统计

## 🚀 快速开始

### 在线使用
👉 [https://ai-learning-coach-sigma.vercel.app](https://ai-learning-coach-sigma.vercel.app)

### 本地使用
```bash
# 克隆仓库
git clone https://github.com/mqig/ai-learning-coach.git

# 直接打开
open index.html
```

## 🔧 AI 配置

1. 点击右上角 ⚙️ 按钮
2. 选择 AI 提供商（OpenAI / Claude / DeepSeek 等）
3. 输入你的 API Key
4. 测试连接

> **安全说明**：API Key 仅存储在浏览器本地 (localStorage)，不会上传到服务器。

## � 飞书多维表格同步（可选）

支持将学习数据同步到飞书多维表格，实现跨设备数据共享。

### 第一步：创建飞书应用（获取 App ID 和 App Secret）

1. 打开 [飞书开放平台](https://open.feishu.cn/app) → 登录
2. 点击 **「创建企业自建应用」**
3. 填写应用名称（如 `LearnFlow`）和描述 → 点击确认
4. 进入应用详情页 → 左侧菜单 **「凭证与基础信息」**
5. 复制以下两个值：
   - **App ID**（格式如 `cli_a5xxxxxxxxxxxx`）
   - **App Secret**（点击显示后复制）

### 第二步：开通多维表格权限

1. 在应用详情页 → 左侧菜单 **「权限管理」**
2. 搜索并开通以下权限：

| 权限名称 | 权限标识 | 用途 |
|---------|---------|------|
| 查看、评论和编辑多维表格 | `bitable:app` | 读写多维表格数据 |
| 查看、评论、编辑和管理多维表格 | `bitable:app:readonly` | 读取表格结构 |

3. 点击 **「创建版本」** → 填写版本号和说明 → 提交
4. 点击 **「申请线上发布」** → 等待管理员审批通过

> ⚠️ **重要**：如果是个人开发测试，权限申请后一般会自动通过。

### 第三步：创建多维表格（获取 App Token）

1. 打开 [飞书](https://www.feishu.cn/) → 文档 → 新建 **「多维表格」**
2. 给表格起个名字（如 `LearnFlow 学习数据`）
3. 从浏览器地址栏中复制 **App Token**：
   ```
   https://xxx.feishu.cn/base/bascnXXXXXXXXXX?...
                              ^^^^^^^^^^^^^^^^^^
                              这一段就是 App Token
   ```
4. 将多维表格 **共享给应用**：
   - 点击表格右上角 **「···」→ 「更多」→ 「添加文档应用」**
   - 搜索你刚创建的应用名称 → 选择并确认

> 如果找不到"添加文档应用"选项，也可以在**开放平台应用中**开启**机器人能力**，然后将应用添加到包含该多维表格的群组中。

### 第四步：在 LearnFlow 中配置

1. 打开 LearnFlow → 点击右上角 ⚙️ → 切换到 **「🔄 飞书同步」** Tab
2. 填入上面获取的三个值：
   - **App ID** → `cli_a5xxxxxxxxxxxx`
   - **App Secret** → 你的应用密钥
   - **App Token** → `bascnXXXXXXXXXX`
3. 点击 **「💾 保存配置」**
4. 点击 **「🧪 测试连接」** → 看到 ✅ 表示配置成功

### 第五步：同步数据

1. **初始化**：点击「📋 初始化表格」，自动创建所需的 4 张数据表。
2. **开启自动同步**（可选）：勾选「🔄 自动同步」，本地数据修改后将在 5 秒后自动备份到飞书。
3. **手动同步**：点击「⬆️ 上传到飞书」或「⬇️ 从飞书下载」进行全量数据同步。

> **提示**：同步操作会覆盖目标端的数据，请确认后再操作。

## 🛠 技术栈

- **纯前端**：HTML + CSS + JavaScript
- **数据存储**：浏览器 localStorage + 飞书多维表格（可选云端同步）
- **AI 接口**：支持 OpenAI / Claude / DeepSeek / Gemini / 自定义中转
- **部署**：Vercel（含 Serverless Functions 代理飞书 API）

## 📱 浏览器支持

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 📄 License

MIT
